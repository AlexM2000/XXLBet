select.all.future.matches=select m.date_started, m.draw_coefficient, o.name, o.coefficient, m.id, t.name, o.id from matches m join opponents o on m.id = o.match_id join tournaments t on m.tournament_id = t.id where m.date_started > date_add(?, INTERVAL -1 HOUR) and (SELECT COUNT(*) FROM match_results where match_id=m.id)=0 order by m.id;
select.all.online.and.incomplete.matches=select m.date_started, m.draw_coefficient, o.name, o.coefficient, m.id, t.name, o.id from matches m join opponents o on m.id = o.match_id join tournaments t on m.tournament_id = t.id where m.date_started < date_add(current_timestamp(), INTERVAL +2 MINUTE) and (SELECT COUNT(*) FROM match_results where match_id=m.id)=0 order by m.id;
insert.into.matches = insert into matches (tournament_id, draw_coefficient, date_started) values (?, ?, ?)
select.last.match = select max(id) from matches
delete.all.finished.matches = delete from matches where ? > date_add(date_started, interval +1 day)
select.matches.by.tournament = select m.date_started, m.draw_coefficient, o.name, o.coefficient, m.id, t.name, o.id from matches m join tournaments t on t.id = m.tournament_id join opponents o on o.match_id = m.id where t.name=? and m.date_started > current_timestamp() order by m.id